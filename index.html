<html>
<title>Demo</title>
<head>
<script src="platform.js"></script>

<script type="text/javascript">
  var userip;
</script>

<script type="text/javascript" src="https://l2.io/ip.js?var=userip"></script>

<script type="text/javascript">
  
 
  
function getDetails(){
  var d = new Date();
var txt = "<p>Date: " + d.toUTCString() + "</p>";
txt +="<p>OS name: " + platform.name + "</p>";
txt +="<p>OS version: " + platform.version; +"</p>";
txt +="<p>OS layout: " + platform.layout + "</p>";
txt +="<p>OS description: " + platform.description+ "</p>";
txt +="<p>IP Address: " + userip + "</p>";
var title = document.getElementById('details');
title.innerHTML = txt;
   if(pushcrew.isAPIReady) {
    getDetails();
  }
 window._pcq = window._pcq || [];
_pcq.push(['subscriptionSuccessCallback',callbackFunctionOnSuccessfulSubscription]); //registers callback function to be called when user gets successfully subscribed

}
</script> 
  
<script type="text/javascript">
    (function(p,u,s,h){
        p._pcq=p._pcq||[];
        p._pcq.push(['_currentTime',Date.now()]);
        s=u.createElement('script');
        s.type='text/javascript';
        s.async=true;
        s.src='https://cdn.pushcrew.com/js/a72168dd71f6b0369df9033ed3325aa7.js';
        h=u.getElementsByTagName('script')[0];
        h.parentNode.insertBefore(s,h);
      
    })(window,document);
</script>
  <script type="text/javascript">
  
function callbackFunctionOnSuccessfulSubscription(subscriberId, values) {
      console.log('User got successfully subscribed.');

    console.log(subscriberId); //will output the user's subscriberId

    console.log(values.status); // SUBSCRIBED or ALREADYSUBSCRIBED

    console.log(values.message) // 'User has subscribed to push notifications.' or 'User is already subscribed to push notifications.'

    console.log('Now you may run code which should be executed once user gets successfully subscribed.');
}
  </script>
  
</head>
<body>  
<h1>Telenor Demo</h1>

  
<div id=pushcrew></div>
<div id="details"></div>
</body>
  
</html>
